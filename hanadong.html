<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>한아동 생활 안내 시스템</title>

<link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet">

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  font-family:'Nanum Myeongjo','Batang',serif;
  background:#f4f4f4;
  color:#111;
}

.wrap{
  max-width:720px;
  margin:0 auto;
  padding:48px 24px 80px;
}

h1{
  font-size:32px;
  font-weight:700;
  line-height:1.4;
  margin-bottom:12px;
}

.sub{
  font-size:14px;
  opacity:.6;
  margin-bottom:36px;
}

.notice{
  border:1px solid rgba(0,0,0,.15);
  padding:20px;
  margin-bottom:40px;
  font-size:15px;
  line-height:1.8;
  white-space:pre-line;
}

.menu{
  display:flex;
  flex-direction:column;
  gap:14px;
}

.menu a{
  text-decoration:none;
  color:#111;
  border:1px solid rgba(0,0,0,.2);
  padding:16px;
  font-size:16px;
  background:#fff;
}

.menu a:hover{
  background:#eee;
}

.footer{
  margin-top:60px;
  font-size:12px;
  opacity:.5;
  line-height:1.6;
}

.wind{
  animation:windMove 6s infinite alternate ease-in-out;
}

@keyframes windMove{
  from{transform:translateX(-1px)}
  to{transform:translateX(1px)}
}

.flash{
  animation:flash 4s infinite;
}

@keyframes flash{
  0%,96%,100%{filter:none}
  97%{filter:contrast(1.2)}
  98%{filter:brightness(1.1)}
}
</style>
</head>

<body>
<div class="wrap">

<h1>한아동 생활 안내 시스템</h1>
<div class="sub">
Hanadong Administrative Information Portal
</div>

<div class="notice" id="noticeBox">
본 사이트는 한아동 관련 정보를 제공합니다.
모든 정보는 참고용이며, 최신 상태를 보장하지 않습니다.
일부 내용은 확인이 불가능할 수 있습니다.
</div>

<div class="menu" id="menu">
  <a href="rules.html">생활 수칙</a>
  <a href="facilities.html">시설 안내</a>
  <a href="map.html">지도 보기</a>
  <a href="faq.html">자주 묻는 질문</a>
  <a href="report.html">오류 신고</a>
</div>

<div class="footer">
한아동 주민센터
본 시스템은 자동으로 관리되지 않습니다.
접속 기록은 저장되지 않을 수 있습니다.
</div>

</div>

<script>
let v = localStorage.getItem('hanadong_visit');
v = v ? Number(v) + 1 : 1;
localStorage.setItem('hanadong_visit', v);

function getHanadongWeather(){
  const today = new Date().toISOString().slice(0,10);
  const saved = localStorage.getItem('hanadongWeather');

  if(saved){
    const data = JSON.parse(saved);
    if(data.date === today) return data.weather;
  }

  const roll = Math.random();
  let weather = 'clear';

  if(roll < 0.45) weather = 'clear';
  else if(roll < 0.60) weather = 'rain';
  else if(roll < 0.70) weather = 'fog';
  else if(roll < 0.80) weather = 'snow';
  else if(roll < 0.90) weather = 'wind';
  else weather = 'thunder';

  localStorage.setItem(
    'hanadongWeather',
    JSON.stringify({ date: today, weather })
  );

  return weather;
}

const weather = getHanadongWeather();

if(v >= 7){
  document.getElementById('noticeBox').innerText =
`본 사이트는 정상적으로 운영 중입니다.
별도의 조치는 필요하지 않습니다.`;
}

if(v >= 12){
  document.body.style.background = '#eee';
}

if(weather === 'rain'){
  const link = document.createElement('a');
  link.href = 'jina-aquarium.html';
  link.innerText = '지나 수족관';
  link.style.color = '#5b6b6a';
  document.getElementById('menu').appendChild(link);
}

if(weather === 'fog'){
  document.body.style.filter = 'contrast(0.9) blur(0.2px)';
}

if(weather === 'snow'){
  document.body.style.filter = 'brightness(1.05) saturate(0.85)';
}

if(weather === 'wind'){
  document.body.classList.add('wind');
}

if(weather === 'thunder'){
  document.body.classList.add('flash');
}
</script>

</body>
</html>
