<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>한아동 생활 안내 시스템</title>

<link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet">

<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  font-family:'Nanum Myeongjo','Batang',serif;
  background:#f4f4f4;
  color:#111;
}

.wrap{
  max-width:720px;
  margin:0 auto;
  padding:48px 24px 80px;
}

h1{
  font-size:32px;
  font-weight:700;
  line-height:1.4;
  margin-bottom:12px;
}

.sub{
  font-size:14px;
  opacity:.6;
  margin-bottom:36px;
}

.notice{
  border:1px solid rgba(0,0,0,.15);
  padding:20px;
  margin-bottom:40px;
  font-size:15px;
  line-height:1.8;
}

.menu{
  display:flex;
  flex-direction:column;
  gap:14px;
}

.menu a{
  text-decoration:none;
  color:#111;
  border:1px solid rgba(0,0,0,.2);
  padding:16px;
  font-size:16px;
  background:#fff;
}

.menu a:hover{
  background:#eee;
}

.footer{
  margin-top:60px;
  font-size:12px;
  opacity:.5;
  line-height:1.6;
}

.status{
  position:fixed;
  top:14px;
  right:16px;
  text-align:right;
  font-size:12px;
  line-height:1.6;
  opacity:.6;
  pointer-events:none;
  z-index:1000;
}
</style>
</head>

<body>

<div class="status" id="statusBox"></div>

<div class="wrap">

<h1>한아동 생활 안내 시스템</h1>
<div class="sub">
Hanadong Administrative Information Portal
</div>

<div class="notice" id="noticeBox">
본 사이트는 한아동 관련 정보를 제공합니다.<br>
모든 정보는 참고용이며, 최신 상태를 보장하지 않습니다.<br>
일부 내용은 확인이 불가능할 수 있습니다.
</div>

<div class="menu">
  <a href="rules.html">생활 수칙</a>
  <a href="facilities.html">시설 안내</a>
  <a href="map.html">지도 보기</a>
  <a href="faq.html">자주 묻는 질문</a>
  <a href="report.html">오류 신고</a>
</div>

<div class="footer">
한아동 주민센터<br>
본 시스템은 자동으로 관리되지 않습니다.<br>
접속 기록은 저장되지 않을 수 있습니다.
</div>

</div>

<script>
let visit = localStorage.getItem('hanadong_visit');
visit = visit ? Number(visit) + 1 : 1;
localStorage.setItem('hanadong_visit', visit);

const weatherList = ['맑음','비','눈','번개','안개','강풍'];

function getWeatherSlot(){
  return Math.floor(Date.now() / 600000);
}

let slot = getWeatherSlot();
let savedSlot = localStorage.getItem('hanadong_weather_slot');
let weather = localStorage.getItem('hanadong_weather');

if(savedSlot !== String(slot) || !weather){
  weather = weatherList[Math.floor(Math.random()*weatherList.length)];
  localStorage.setItem('hanadong_weather', weather);
  localStorage.setItem('hanadong_weather_slot', slot);
}

if(visit >= 7){
  document.getElementById('noticeBox').innerText =
  '본 시스템은 정상적으로 운영 중입니다.\n별도의 조치는 필요하지 않습니다.';
}

if(visit >= 12){
  document.body.style.background = '#eee';
}

function pad(n){return n.toString().padStart(2,'0')}

function updateStatus(){
  const now = new Date();
  const year = now.getFullYear();
  const hour = pad(now.getHours());
  const min = pad(now.getMinutes());

  document.getElementById('statusBox').innerText =
`${year}년  ${hour}:${min}
한아동  ${weather}`;
}

updateStatus();
setInterval(updateStatus, 10000);

setInterval(()=>{
  const newSlot = getWeatherSlot();
  if(newSlot !== slot){
    slot = newSlot;
    weather = weatherList[Math.floor(Math.random()*weatherList.length)];
    localStorage.setItem('hanadong_weather', weather);
    localStorage.setItem('hanadong_weather_slot', slot);
    updateStatus();
  }
}, 30000);
</script>

</body>
</html>
